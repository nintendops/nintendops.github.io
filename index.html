<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <title>Tracker Test</title>
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <meta http-equiv="content-language" content="en">
    <link rel="apple-touch-icon"
          href="http://flashcanvas.googlecode.com/svn/trunk/examples/www.chiptune.com/kaleidoscope/icon.gif">
    <link rel="shortcut icon"
          href="http://flashcanvas.googlecode.com/svn/trunk/examples/www.chiptune.com/kaleidoscope/ico.gif">
    <link rel="stylesheet" href="trackingjs/examples/assets/demo.css">
    <link rel="stylesheet" type="text/css" href="myCSS.css">
    <link href="css/bootstrap.css" rel="stylesheet"/>
    <style type="text/css">
        body {
            background-color: #000000;
        }

        canvas {
            background-color: #000000;
            overflow: hidden
        }

        .tap {
            -webkit-tap-highlight-color: rgba(255, 0, 0, 0.2);
            cursor: pointer
        }

        video {
            margin-left: 10px;
            margin-top: 50px;
            position: absolute;
        }
    </style>

</head>


<body style="cursor: default;">
<video id="videoOut" width="240" height="200" preload autoplay loop muted></video>

<div id="lights_wrapper">

    <div id="lights_fail" class="lights_body">
    </div>

</div>

<div style="position: absolute; top: 0px; left: 0px; z-index: -100; margin: 0px; padding: 0px;">
    <canvas width="1846" height="952"></canvas>
</div>


<!--[if lt IE 9]>
<script type="text/javascript" src="../../../bin/flashcanvas.js"></script><![endif]-->
<script src="js/jquery.min.js"></script>
<script src="js/underscore-min.js"></script>
<script src="js/mml-emitter.js"></script>
<script src="js/neume.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="./dist/oflow.js"></script>
<script src="dat.gui.min.js"></script>
<script src="audio.js"></script>
<script src="tracking.js"></script>
<script src="sequencer/subcollider.js"></script>
<script src="sequencer/scales.js"></script>
<script src="sequencer/tunings.js"></script>
<script src="sequencer/scalable-sequencer.js"></script>

<!-- webGL lib>  <!-->
<script type="text/javascript" src="./js/Config.js"></script>
<script type="text/javascript" src="./js/Three.js"></script>
<script type="text/javascript" src="./js/Lights.js"></script>
<script src="./js/js" type="text/javascript"></script>
<link rel="stylesheet" href="http://lights.helloenjoy.com/css/lights.css">
<link href="./js/css" rel="stylesheet" type="text/css">


<script type="text/javascript">

    $(document).unbind("keypress.key32");

    function ini_loader() {
        var preloader = $("#preloader");
        if (preloader) {
            preloader.addClass("preloader");
            $("#preloader-filter").addClass("preloader-filter");
            // timeout if loading takes more than 10 sec
            setTimeout(function () {
                var sl = preloader.attr("id");
                if (sl) {
                    preloader.fadeOut("slow", function () {
                        preloader.removeAttr("class");
                        preloader.removeAttr("style");
                        $("#preloader-filter").removeAttr("class");

                    });
                }
            }, 15000);
        }
    }

    function fade_loader() {
        var preloader = $("#preloader");
        if (preloader) {
            preloader.fadeOut("slow", function () {
                preloader.removeAttr("class");
                preloader.removeAttr("style");
                $("#preloader-filter").removeAttr("class");
            });
        }
    }

    function get_screen_size() {
        var w = document.documentElement.clientWidth;
        var h = document.documentElement.clientHeight;
        return Array(w, h);
    }


    window.onload = function () {
        var ot = new OpticalTracker();
        ot.start();
        this.lights = new LIGHTS.Lights(ot);
    };

    /* $(function () {
     var webCamFlow = null;
     var ot = new OpticalTracker();
     var instr = 0;
     var callback = function (u, v, x, y) {
     var hash = location.hash;
     StarField.flow_move(u, v);
     switch (hash) {
     case "#scale":
     // scale mode
     if (x < -100) {
     seq_scale(true);

     } else {
     seq_scale(false);
     }
     break;
     case "#tone":
     default:
     // tone mode
     if (x < -100) {
     instr = seq_tone(2);

     } else {
     instr = seq_tone(0);
     }
     break;

     }

     };

     // call when camera is tracking
     var once = function () {
     seq_play(function (e) {
     if (e.midi >= 80 && e.midi <= 85 && instr == 2) {
     StarField.tracking_blink(e.duration * 1000);
     }
     });
     };

     // UI setup
     $(".navbar-nav li").on("click", function () {
     $.each($(".navbar-nav li"), function () {
     if ($(this).hasClass("active")) {
     $(this).removeAttr("class");
     }
     });
     $(this).attr("class", "active");
     });

     $(".navbar-brand").on("click", function () {

     webCamFlow = ot.start(callback, once);
     if (ot.tracking) {
     StarField.start();
     }
     });

     $("#Slow-Button").on("click", function () {
     seq_slower();
     });
     });
     */

</script>


</body></html>